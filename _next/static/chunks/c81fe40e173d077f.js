(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15328,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(37727),n=e.i(26029),r=e.i(94481),o=e.i(85149),s=e.i(75157);let i=r.default;function c({performances:e,onClose:r,centerLocation:c,favoriteVenues:d,onToggleFavorite:m}){let u=(0,a.useRef)(null),[p,x]=(0,a.useState)(null),[h,w]=(0,a.useState)(null),b=(0,a.useRef)({});(0,a.useEffect)(()=>{let t="kakao-map-script",a=()=>{window.kakao.maps.load(()=>{if(!u.current)return;let t={center:c?new window.kakao.maps.LatLng(c.lat,c.lng):new window.kakao.maps.LatLng(37.554648,126.972559),level:c?4:6},a=new window.kakao.maps.Map(u.current,t);x(a),setTimeout(()=>{a.relayout(),a.setCenter(t.center)},100),setTimeout(()=>{a.relayout(),a.setCenter(t.center)},500),b.current={};let l=e.reduce((e,t)=>(e[t.venue]||(e[t.venue]=[]),e[t.venue].push(t),e),{}),n=new window.kakao.maps.LatLngBounds;if(c){let e=new window.kakao.maps.LatLng(c.lat,c.lng);n.extend(e);let t=document.createElement("div");t.className="custom-overlay-search",t.style.cssText=`
                        background-color: #ef4444; 
                        width: 32px;
                        height: 32px;
                        border-radius: 50%;
                        border: 3px solid white;
                        box-shadow: 0 4px 6px rgba(0,0,0,0.4);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                        font-size: 16px;
                        animation: bounce 0.5s;
                    `,t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>';let l=document.createElement("div");l.className="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-xs px-2 py-1 rounded whitespace-nowrap",l.innerText=c.name,t.appendChild(l),new window.kakao.maps.CustomOverlay({position:e,content:t,map:a,yAnchor:.5})}Object.entries(l).forEach(([e,t])=>{let l=i[e];if(!l?.lat||!l?.lng)return;let r=new window.kakao.maps.LatLng(l.lat,l.lng);n.extend(r);let c=t[0].genre,d=o.GENRE_STYLES[c]?.hex||"#9ca3af",m=document.createElement("div");m.className="custom-overlay",m.style.cssText=`
                        background-color: ${d};
                        width: 24px;
                        height: 24px;
                        border-radius: 50%;
                        border: 2px solid white;
                        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                        cursor: pointer;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                        font-size: 10px;
                    `,m.innerText=t.length.toString(),new window.kakao.maps.CustomOverlay({position:r,content:m,map:a,yAnchor:1});let u=document.createElement("div");u.className="info-window bg-white text-black p-3 rounded-lg shadow-xl border border-gray-200 min-w-[250px] max-w-[300px] text-left relative",u.style.cssText="bottom: 35px; position: relative; z-index: 100;";let p=document.createElement("button");p.innerHTML="×",p.className="absolute top-1 right-2 text-xl font-bold text-gray-500 hover:text-black",p.onclick=()=>{f.setMap(null)};let x=document.createElement("h3");x.className="font-bold text-sm mb-2 pr-4",x.innerText=e;let h=document.createElement("div");h.className="space-y-2 max-h-[580px] overflow-y-auto scrollbar-hide",t.forEach(e=>{let t=document.createElement("div");if(t.className="flex gap-2 items-start border-b border-gray-100 pb-2 last:border-0",e.image){let a=document.createElement("img");a.src=(0,s.getOptimizedUrl)(e.image,80),a.className="w-10 h-14 object-cover rounded bg-gray-100 shrink-0",t.appendChild(a)}let a=document.createElement("div");a.className="flex-1 min-w-0";let l=document.createElement("p");l.className="text-xs font-semibold line-clamp-2 leading-tight",l.innerText=e.title;let n=document.createElement("p");n.className="text-[10px] text-gray-500 mt-0.5",n.innerText=e.date;let r=document.createElement("a");r.href=e.link,r.target="_blank",r.className="inline-block mt-1 px-2 py-0.5 bg-blue-600 text-white text-[10px] rounded hover:bg-blue-700 font-bold",r.innerText="예매하기",a.appendChild(l),a.appendChild(n),a.appendChild(r),t.appendChild(a),h.appendChild(t)}),u.appendChild(p),u.appendChild(x),u.appendChild(h);let f=new window.kakao.maps.CustomOverlay({position:r,content:u,yAnchor:1,zIndex:10});b.current[e]=f,m.onclick=()=>{let t=f.getMap();Object.values(b.current).forEach(e=>e.setMap(null)),t?w(null):(f.setMap(a),w(e))}})})};if(document.getElementById(t)){if(window.kakao&&window.kakao.maps)a();else{let e=setInterval(()=>{window.kakao&&window.kakao.maps&&(clearInterval(e),a())},100);setTimeout(()=>clearInterval(e),5e3)}return}let l=document.createElement("script");return l.id=t,l.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0236cfffa7cfef34abacd91a6d7c73c0&autoload=false&libraries=services",l.async=!0,l.onload=a,document.head.appendChild(l),()=>{}},[e,c]);let f=Object.values(e.reduce((e,t)=>(e[t.venue]||(e[t.venue]={...i[t.venue],venueName:t.venue,performances:[]}),e[t.venue].performances.push(t),e),{}));return(0,t.jsx)("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"relative w-full h-full max-w-[1700px] max-h-[90vh] m-0 sm:m-4 bg-gray-900 sm:rounded-2xl overflow-hidden shadow-2xl border border-gray-800 flex flex-col",children:[(0,t.jsx)("button",{onClick:r,className:"absolute top-4 right-4 z-[100] p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition",children:(0,t.jsx)(l.X,{className:"w-6 h-6"})}),(0,t.jsx)("div",{ref:u,className:"w-full h-full bg-gray-800"}),f.length>0&&(0,t.jsx)("div",{className:"absolute bottom-4 left-0 right-0 z-[90] px-4",children:(0,t.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide snap-x",children:f.map(e=>{let a=d.includes(e.venueName),l=h===e.venueName;return(0,t.jsxs)("button",{onClick:()=>{if(p&&e.lat&&e.lng)if(l){let t=b.current[e.venueName];t&&t.setMap(null),w(null)}else{let t=new window.kakao.maps.LatLng(e.lat,e.lng);p.panTo(t),Object.values(b.current).forEach(e=>e.setMap(null));let a=b.current[e.venueName];a&&a.setMap(p),w(e.venueName)}},className:`snap-center shrink-0 w-64 p-3 rounded-xl shadow-xl text-left flex flex-col gap-1 transition-all duration-300
                                            ${l?"ring-4 ring-blue-500 scale-[1.02] z-10":"border hover:scale-[1.01]"}
                                            ${a?"bg-emerald-500 border-emerald-400 text-white hover:bg-emerald-600":"bg-white/90 backdrop-blur border-white/20 text-black hover:bg-white"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start w-full",children:[(0,t.jsx)("h4",{className:"font-bold text-sm truncate flex-1",children:e.venueName}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),m(e.venueName)},className:`ml-2 p-1 rounded-full transition-colors ${a?"hover:bg-white/20":"hover:bg-gray-100"}`,children:(0,t.jsx)(n.default,{className:`w-4 h-4 ${a?"text-white fill-white":"text-gray-400"}`})})]}),(0,t.jsx)("p",{className:`text-xs truncate ${a?"text-emerald-100":"text-gray-600"}`,children:e.address||"주소 정보 없음"}),(0,t.jsx)("div",{className:"mt-1 flex items-center justify-between text-xs",children:(0,t.jsxs)("span",{className:`font-bold ${a?"text-yellow-400":"text-blue-600"}`,children:[e.performances.length,"개 공연"]})})]},e.venueName)})})})]})})}e.s(["default",()=>c])},70736,e=>{e.n(e.i(15328))}]);